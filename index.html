<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Random Quiz with Memes</title>
    <style>
      body {
        font-family: "Arial", sans-serif;
        text-align: center;
        margin: 50px;
      }
      button {
        margin: 5px;
      }
      #memeImage {
        display: none;
        max-width: 80%; /* Adjust the size as needed */
        max-height: 80vh; /* Adjust the size as needed */
        margin: 20px auto;
      }
    </style>
  </head>
  <body>
    <h1>Random Quiz with Memes</h1>

    <div id="quiz-container">
      <p id="question"></p>
      <input type="text" id="answerInput" placeholder="Type your answer" />
      <button onclick="checkAnswer()">Submit</button>
      <button
        id="nextButton"
        onclick="moveToNextQuestion()"
        style="display: none"
      >
        Next Question
      </button>
      <p id="result"></p>
      <button id="memeButton" onclick="showMeme()" style="display: none">
        Show Meme
      </button>
      <img id="memeImage" onclick="hideMeme()" />
    </div>

    <script>
      // Define the list of questions and answers
      const questions = [
        { question: "What is the capital of Ukraine?", answer: "Kyiv" },
        { question: "Your favorite pet?", answer: "Cat" },
        { question: "Main hero in Harry Potter?", answer: "Harry Potter" },
      ];

      // Shuffle the questions array to randomize the order
      const shuffledQuestions = questions.sort(() => Math.random() - 0.5);

      // Initialize quiz variables
      let currentQuestionIndex = 0;
      let currentQuestion = shuffledQuestions[currentQuestionIndex];

      // Function to update the quiz with the current question
      function updateQuiz() {
        document.getElementById("question").innerText =
          currentQuestion.question;
        document.getElementById("answerInput").value = "";
        document.getElementById("result").innerText = "";
        document.getElementById("nextButton").style.display = "none";
        document.getElementById("memeButton").style.display = "none";
        document.getElementById("memeImage").style.display = "none";
      }

      // Function to check the user's answer
      function checkAnswer() {
        const userAnswer = document
          .getElementById("answerInput")
          .value.trim()
          .toLowerCase();
        const correctAnswer = currentQuestion.answer.toLowerCase();

        if (userAnswer === correctAnswer) {
          document.getElementById("result").innerText = "Correct!";

          // Enable the "Next Question" and "Show Meme" buttons after a correct answer
          document.getElementById("nextButton").style.display = "inline-block";
          document.getElementById("memeButton").style.display = "inline-block";
        } else {
          document.getElementById("result").innerText = "Incorrect. Try again!";
        }
      }

      // Function to move to the next question
      function moveToNextQuestion() {
        // Move to the next question or finish the quiz
        if (currentQuestionIndex < shuffledQuestions.length - 1) {
          currentQuestionIndex++;
          currentQuestion = shuffledQuestions[currentQuestionIndex];
          updateQuiz();
        } else {
          document.getElementById("quiz-container").innerHTML =
            "<p>Congratulations! You completed the quiz.</p>";
        }
      }

      // Function to show a random meme image
      function showMeme() {
        fetch("https://meme-api.com/gimme/animalmemes")
          .then((response) => response.json())
          .then((data) => {
            const memeImage = document.getElementById("memeImage");
            memeImage.src = data.url;
            memeImage.alt = "Random Meme";
            memeImage.style.display = "block";
          })
          .catch((error) => console.error("Error fetching meme:", error));

        // Hide the "Show Meme" button after displaying the meme
        document.getElementById("memeButton").style.display = "none";
      }

      // Function to hide the meme image after clicking on it
      function hideMeme() {
        document.getElementById("memeImage").style.display = "none";
      }

      // Initialize the quiz
      updateQuiz();
    </script>
  </body>
</html>
